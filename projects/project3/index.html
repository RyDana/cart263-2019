<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>

    <!-- CSS stylesheet(s) -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />

    <!-- Library script(s) -->
    <script src="js/libraries/Pizzicato.js"></script>
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-component.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@5.1.2/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>

    <!-- <script src="js/libraries/aframe.min.js"></script>
    <script src="js/libraries/aframe-gif-component.min.js"></script>
    <script src="js/libraries/aframe-animation-component.min.js"></script>
    <script src="js/libraries/aframe-physics-system.min.js"></script>
    <script src="js/libraries/aframe-extras.min.js"></script> -->

    <!-- My script(s) -->
    <script src="js/script.js"></script>

  </head>

  <body>
    <!-- <a-scene stats physics="debug:true;"> -->
    <a-scene fog="type: exponential; color: #047f82; density: 0.02"
      physics='gravity:1.1; friction:2'>
      <a-assets >
        <img src="assets/images/sea-gif.gif" id="sea_floor">
        <a-mixin id="flap" animation="property: rotation; dir: alternate; loop: true; easing:easeInOutCubic;"></a-mixin>
        <a-mixin id="rotate" animation="property: rotation; loop: true"></a-mixin>
        <a-mixin id="float" animation="property: position; dir: alternate; loop: true; easing:easeInOutCubic;"></a-mixin>

        <a-asset-item id="head-obj" src="assets/models/shark_head.obj"></a-asset-item>
        <a-asset-item id="head-mtl" src="assets/models/shark_head.mtl"></a-asset-item>
        <a-asset-item id="jaw-obj" src="assets/models/shark_jaw.obj"></a-asset-item>
        <a-asset-item id="jaw-mtl" src="assets/models/shark_jaw.mtl"></a-asset-item>
        <a-asset-item id="body-obj" src="assets/models/shark_body.obj"></a-asset-item>
        <a-asset-item id="body-mtl" src="assets/models/shark_body.mtl"></a-asset-item>
        <a-asset-item id="tail-obj" src="assets/models/shark_tail.obj"></a-asset-item>
        <a-asset-item id="tail-mtl" src="assets/models/shark_tail.mtl"></a-asset-item>

        <a-asset-item id="basket-gltf" src="assets/models/PicnicBasket.gltf"></a-asset-item>
        <a-asset-item id="pizza-gltf" src="assets/models/Pizza_slice.gltf"></a-asset-item>
        <a-asset-item id="hotdog-gltf" src="assets/models/Hot_dog_01.gltf"></a-asset-item>
        <a-asset-item id="burger-gltf" src="assets/models/Hamburger_01.gltf"></a-asset-item>
        <a-asset-item id="pretzel-gltf" src="assets/models/Pretzel.gltf"></a-asset-item>

        <a-asset-item id="exoFont" src="https://cdn.glitch.com/c719c986-c0c5-48b8-967c-3cd8b8aa17f3%2Fexo2Black.typeface.json?1490305922150"></a-asset-item>
      </a-assets>

      <a-entity id='camera' camera look-controls wasd-controls position="0 1 0">
          <a-cursor color='#fff'>
          </a-cursor>
          <a-text id="score"
            value="Score"
            position="-0.05 -0.5 -1"
            color="white"
            width="3"
            anchor="left">
          </a-text>
      </a-entity>

      <a-entity id="startScreen" position="-4 0 -5">
        <a-entity position="0 5 0" scale="1 1 1" text-geometry="value:SHARKS; font:#exoFont; bevelEnabled:true; bevelSize:0.1; bevelThickness:0.1; curveSegments:0.5; size:1.5; height:0.5;" material="color:#EF2D5E">
        </a-entity>
        <a-entity position="0 3.5 0" scale="1 1 1" text-geometry="value:ARE FOND OF; font:#exoFont; bevelEnabled:true; bevelSize:0.1; bevelThickness:0.1; curveSegments:0.1; size:0.9; height:0.5;" material="color:#EF2D5E">
        </a-entity>
        <a-entity position="0 1.7 0" scale="1 1 1" text-geometry="value:JUNK FOOD; font:#exoFont; bevelEnabled:true; bevelSize:0.1; bevelThickness:0.1; curveSegments:0.5; size:1.1; height:0.5;" material="color:#EF2D5E" >
        </a-entity>

        <a-entity position="0 1 0" text-geometry="value: Look around you by dragging the mouse (desktop); size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="0 0.75 0" text-geometry="value: or rotating your device (mobile). Grab food from; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="0 0.5 0" text-geometry="value: the basket beneath by hovering the cursor over it; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="0 0.25 0" text-geometry="value: and hitting the spacebar (desktop) or touching the; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="0 0 0" text-geometry="value: screen (mobile). Throw the food at the sharks' head; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="-0 -0.25 0" text-geometry="value: with the same command. The status bar over their heads; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="0 -0.5 0" text-geometry="value: is their level of satiety. If unfed for too long, they; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>
        <a-entity position="0 -0.75 0" text-geometry="value: will eat you instead! You can practice before clicking to play.; size:0.2; font:#exoFont; height:0.001;"
          material="color:white">
        </a-entity>

        <a-entity position="1.5 -1.8 0" scale="1 1 1" text-geometry="value:CLICK TO PLAY; font:#exoFont; bevelEnabled:true; bevelSize:0.1; bevelThickness:0.1; curveSegments:0.1; size:0.5; height:0.5;" material="color:#EF2D5E" handle-events>
        </a-entity>
      </a-entity>


      <a-entity mixin="float" position="-1 -5 -2" gltf-model="#basket-gltf" scale="0.5 0.5 0.5" animation="to: -1 -4.5 -2" handle-take></a-entity>
      <a-entity mixin="float" position="-1 5 -2"
        geometry="primitive:box;
          width:0.02;
          depth:0.02;
          height:15"
        material="color:gray;"
        animation="to: -1 5.5 -2" ></a-entity>

      <a-entity mixin="float" position="-1 12 -2"
        geometry="primitive:sphere;
          radius:2"
        material="color:yellow;"
        animation="to: -1 12.5 -2" ></a-entity>

      <a-entity mixin="rotate" position="0 1 0" animation="to: 0 -360 0; dur: 80000; easing: linear">
        <a-entity position="5 0 0">
          <a-entity mixin="flap" rotation="0 4 0" animation="to: 0 -4 0" pivot="0 0 1" >
            <a-entity>
              <a-entity mixin="" obj-model="obj: #head-obj; mtl: #head-mtl" static-body='shape:box' handle-eat></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="2 0 0" animation="to: -10 0 0; dur: 3000;" pivot="0 0 1">
              <a-entity mixin="" obj-model="obj: #jaw-obj; mtl: #jaw-mtl"></a-entity>
            </a-entity>
            <a-entity
              geometry="primitive:box;
                width:0.1;
                depth:0.5;
                height:0.1"
              position="0 0.5 1.5"
              material="color:green;" handle-life>
            </a-entity>
          </a-entity>
          <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 1">
            <a-entity>
              <a-entity mixin="" obj-model="obj: #body-obj; mtl: #body-mtl" static-body='shape:box'></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 0">
              <a-entity mixin="" obj-model="obj: #tail-obj; mtl: #tail-mtl" static-body='shape:box'></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity mixin="rotate" position="0 2 0" animation="to: 0 -360 0; dur: 15000; easing: linear">
        <a-entity position="7 0 0">
          <a-entity mixin="flap" rotation="0 4 0" animation="to: 0 -4 0" pivot="0 0 1" >
            <a-entity>
              <a-entity mixin="" obj-model="obj: #head-obj; mtl: #head-mtl" static-body='shape:box' handle-eat></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="2 0 0" animation="to: -10 0 0; dur: 3000;" pivot="0 0 1">
              <a-entity mixin="" obj-model="obj: #jaw-obj; mtl: #jaw-mtl"></a-entity>
            </a-entity>
            <a-entity
              geometry="primitive:box;
                width:0.1;
                depth:0.7;
                height:0.1"
              position="0 0.5 1.5"
              material="color:green;" handle-life>
            </a-entity>
          </a-entity>
          <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 1">
            <a-entity>
              <a-entity mixin="" obj-model="obj: #body-obj; mtl: #body-mtl" static-body='shape:box'></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 0">
              <a-entity mixin="" obj-model="obj: #tail-obj; mtl: #tail-mtl" static-body='shape:box'></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity mixin="rotate" position="0 -10 0" animation="to: 0 -360 0; dur: 35000; easing: linear">
        <a-entity position="10 0 0">
          <a-entity mixin="flap" rotation="0 4 0" animation="to: 0 -4 0" pivot="0 0 1" >
            <a-entity>
              <a-entity mixin="" obj-model="obj: #head-obj; mtl: #head-mtl" static-body='shape:box' handle-eat></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="2 0 0" animation="to: -10 0 0; dur: 3000;" pivot="0 0 1">
              <a-entity mixin="" obj-model="obj: #jaw-obj; mtl: #jaw-mtl"></a-entity>
            </a-entity>
            <a-entity
              geometry="primitive:box;
                width:0.1;
                depth:0.8;
                height:0.1"
              position="0 0.5 1.5"
              material="color:green;" handle-life>
            </a-entity>
          </a-entity>
          <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 1">
            <a-entity>
              <a-entity mixin="" obj-model="obj: #body-obj; mtl: #body-mtl" static-body='shape:box'></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 0">
              <a-entity mixin="" obj-model="obj: #tail-obj; mtl: #tail-mtl" static-body='shape:box'></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity mixin="rotate" position="0 -4 0" animation="to: 0 -360 0; dur: 22000; easing: linear">
        <a-entity position="8 0 0">
          <a-entity mixin="flap" rotation="0 4 0" animation="to: 0 -4 0" pivot="0 0 1" >
            <a-entity>
              <a-entity mixin="" obj-model="obj: #head-obj; mtl: #head-mtl" static-body='shape:box' handle-eat></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="2 0 0" animation="to: -10 0 0; dur: 3000;" pivot="0 0 1">
              <a-entity mixin="" obj-model="obj: #jaw-obj; mtl: #jaw-mtl"></a-entity>
            </a-entity>
            <a-entity
              geometry="primitive:box;
                width:0.1;
                depth:0.8;
                height:0.1"
              position="0 0.5 1.5"
              material="color:green;" handle-life>
            </a-entity>
          </a-entity>
          <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 1">
            <a-entity>
              <a-entity mixin="" obj-model="obj: #body-obj; mtl: #body-mtl" static-body='shape:box'></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 0">
              <a-entity mixin="" obj-model="obj: #tail-obj; mtl: #tail-mtl" static-body='shape:box'></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity mixin="rotate" position="0 -1 0" animation="to: 0 -360 0; dur: 20000; easing: linear">
        <a-entity position="15 0 0">
          <a-entity mixin="flap" rotation="0 4 0" animation="to: 0 -4 0" pivot="0 0 1" >
            <a-entity>
              <a-entity mixin="" obj-model="obj: #head-obj; mtl: #head-mtl" static-body='shape:box' handle-eat></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="2 0 0" animation="to: -10 0 0; dur: 3000;" pivot="0 0 1">
              <a-entity mixin="" obj-model="obj: #jaw-obj; mtl: #jaw-mtl"></a-entity>
            </a-entity>
            <a-entity
              geometry="primitive:box;
                width:0.1;
                depth:0.8;
                height:0.1"
              position="0 0.5 1.5"
              material="color:green;" handle-life>
            </a-entity>
          </a-entity>
          <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 1">
            <a-entity>
              <a-entity mixin="" obj-model="obj: #body-obj; mtl: #body-mtl" static-body='shape:box'></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 0">
              <a-entity mixin="" obj-model="obj: #tail-obj; mtl: #tail-mtl" static-body='shape:box'></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity mixin="rotate" position="0 -7 0" animation="to: 0 -360 0; dur: 25000; easing: linear">
        <a-entity position="12 0 0">
          <a-entity mixin="flap" rotation="0 4 0" animation="to: 0 -4 0" pivot="0 0 1" >
            <a-entity>
              <a-entity mixin="" obj-model="obj: #head-obj; mtl: #head-mtl" static-body='shape:box' handle-eat></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="2 0 0" animation="to: -10 0 0; dur: 3000;" pivot="0 0 1">
              <a-entity mixin="" obj-model="obj: #jaw-obj; mtl: #jaw-mtl"></a-entity>
            </a-entity>
            <a-entity
              geometry="primitive:box;
                width:0.1;
                depth:0.99;
                height:0.1"
              position="0 0.5 1.5"
              material="color:green;" handle-life>
            </a-entity>
          </a-entity>
          <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 1">
            <a-entity>
              <a-entity mixin="" obj-model="obj: #body-obj; mtl: #body-mtl" static-body='shape:box'></a-entity>
            </a-entity>
            <a-entity mixin="flap" rotation="0 -4 0" animation="to: 0 4 0" pivot="0 0 0">
              <a-entity mixin="" obj-model="obj: #tail-obj; mtl: #tail-mtl" static-body='shape:box'></a-entity>
            </a-entity>
          </a-entity>
        </a-entity>
      </a-entity>

      <!-- ORIGINAL SEA FLOOR -->
      <a-entity geometry="primitive:cylinder;
          radius:100;
          height:1;"
        position="0 -20 0"
        material="shader:gif;
        src:#sea_floor;
        repeat: 15 15;"
        static-body>
      </a-entity>

      <!-- LO-FI SEA FLOOR -->
      <!-- <a-entity geometry="primitive:cylinder;
          radius:200;
          height:1;"
        position="0 -20 0"
        material="color:brown;"
        static-body>
      </a-entity> -->

      <a-sky color="#02163a" poaition='0 -200 0'>
      </a-sky>


      <a-entity light="type: ambient; color: #BBB"></a-entity>
      <a-entity light="type: directional;
          color: #ffff60;
          intensity: 0.3"
        position="9.8 -2.5 5.1">
      </a-entity>

      <a-ocean color="#1057c9"
        amplitude='1'
        aplitudeVariance='1.5'
        depth="200"
        width="200"
        density="40"
        opacity='0.3'
        position="0 10 0"
        speed='4'
        metalness='1'
        roughness='0.1'
        rotation='90 0 0'>
      </a-ocean>

    </a-scene>

  </body>

</html>
